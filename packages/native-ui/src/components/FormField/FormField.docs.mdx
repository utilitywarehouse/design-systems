import { Meta, Controls, Story, Canvas } from '@storybook/blocks';
import * as Stories from './FormField.stories';
import {
  Input,
  InputField,
  FormField,
  FormFieldHelper,
  FormFieldHelperText,
  FormFieldLabel,
  FormFieldLabelText,
  FormFieldInvalidIcon,
  FormFieldInvalid,
  FormFieldInvalidText,
  FormFieldValidIcon,
  FormFieldValid,
  FormFieldValidText,
  Center,
  RadioGroup,
  Radio,
  RadioIndicator,
  RadioLabel,
  Checkbox,
  CheckboxIndicator,
  CheckboxIcon,
  CheckboxLabel,
  VStack,
} from '../../';
import { EmailMediumIcon } from '@utilitywarehouse/react-native-icons';
import { ViewFigmaButton, BackToTopButton, UsageWrap } from '../../../docs/components';

<Meta title="Components / Form Field" />

<ViewFigmaButton url="https://www.figma.com/design/3RY3OvLA88yZksRjOfjQJm/UW-App-UI?node-id=7140-9243&m=dev" />

<BackToTopButton />

# Form Field

The `FormField` component is a container for form elements such as input fields. It provides a consistent layout and styling for form elements in which developers can provide important context to form elements. This context can include whether the element is invalid, disabled, or required.

- [Playground](#playground)
- [Usage](#usage)
  - [Validation Helper Text](#validation-helper-text)
- [Props](#props)
- [Components](#components)
- [Variants](#variants)
- [Advanced Usage](#advanced-usage)
- [Examples](#examples)
  - [With `RadioGroup`](#with-radiogroup)
  - [With `Checkbox`](#with-checkbox)

## Playground

<Canvas of={Stories.Playground} />

<Controls of={Stories.Playground} />

## Usage

<UsageWrap>
  <Center>
    <FormField label="Label" helperText="Helper text" helperPosition="bottom">
      <Input onChange={() => console.log('###')} placeholder="Placeholder" />
    </FormField>
  </Center>
</UsageWrap>

```tsx
import { Input, FormField } from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  return (
    <FormField label="Label" helperText="Helper text" helperPosition="bottom">
      <Input onChange={() => console.log('###')} placeholder="Placeholder" />
    </FormField>
  );
};
```

### Validation Helper Text

The `FormField` component can display helper text to provide additional context to the user. This text can be used to provide information about the field, such as the format of the input or the requirements for the field.

<UsageWrap>
  <Center>
    <FormField
      validationStatus="invalid"
      label="Label"
      helperText="Helper text"
      validText="Valid form field text"
      invalidText="Invalid form field text"
    >
      <Input onChange={() => console.log('###')} placeholder="Placeholder" />
    </FormField>
  </Center>
</UsageWrap>

```tsx
import { Input, FormField } from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  return (
    <FormField
      validationStatus="invalid"
      label="Label"
      helperText="Helper text"
      validText="Valid form field text"
      invalidText="Invalid form field text"
    >
      <Input onChange={() => console.log('###')} placeholder="Placeholder" />
    </FormField>
  );
};
```

## Props

| Name                 | Type                                | Default     | Description                                                      |
| -------------------- | ----------------------------------- | ----------- | ---------------------------------------------------------------- |
| `validationStatus`   | `'initial' \| 'valid' \| 'invalid'` | `'initial'` | The validation status of the field.                              |
| `disabled`           | `boolean`                           | `false`     | Whether the field is disabled.                                   |
| `readonly`           | `boolean`                           | `false`     | Whether the field is readonly.                                   |
| `label`              | `string`                            | `-`         | The label for the field.                                         |
| `helperText`         | `string`                            | `-`         | The helper text for the field.                                   |
| `helperIcon`         | `React.ComponentType`               | `-`         | The icon for the helper text.                                    |
| `helperPosition`     | `'top' \| 'bottom'`                 | `'top'`     | The position of the helper text.                                 |
| `validText`          | `string`                            | `-`         | The valid text for the field.                                    |
| `invalidText`        | `string`                            | `-`         | The invalid text for the field.                                  |
| `showValidationIcon` | `boolean`                           | `false`     | Whether to show the validation icon next to the validation text. |

## Components

The `FormField` component is composed of the following components:

- `FormFieldLabel`
- `FormFieldLabelText`
- `FormFieldHelper`
- `FormFieldHelperText`
- `FormFieldInvalid`
- `FormFieldInvalidIcon`
- `FormFieldInvalidText`
- `FormFieldValid`
- `FormFieldValidIcon`
- `FormFieldValidText`

## Variants

<Canvas of={Stories.Variants} />

## Advanced Usage

The `FormField` component can be broken down into smaller components to provide more control over the layout and styling of the form field.

<UsageWrap>
  <Center>
    <FormField validationStatus="invalid" showValidationIcon={false}>
      <FormFieldLabel>
        <FormFieldLabelText>Label</FormFieldLabelText>
      </FormFieldLabel>
      <Input onChange={() => console.log('###')} placeholder="Placeholder" />
      <FormFieldHelper>
        <FormFieldHelperText>Helper text</FormFieldHelperText>
      </FormFieldHelper>
      <FormFieldInvalid>
        <FormFieldInvalidIcon />
        <FormFieldInvalidText>Invalid form field text</FormFieldInvalidText>
      </FormFieldInvalid>
      <FormFieldValid>
        <FormFieldValidIcon />
        <FormFieldValidText>Valid form field text</FormFieldValidText>
      </FormFieldValid>
    </FormField>
  </Center>
</UsageWrap>

```tsx
import {
  Input,
  FormField,
  FormFieldLabel,
  FormFieldLabelText,
  FormFieldHelper,
  FormFieldHelperText,
  FormFieldInvalidIcon,
  FormFieldInvalid,
  FormFieldInvalidText,
  FormFieldValidIcon,
  FormFieldValid,
  FormFieldValidText,
} from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  return (
    <FormField validationStatus="invalid" showValidationIcon={false}>
      <FormFieldLabel>
        <FormFieldLabelText>Label</FormFieldLabelText>
      </FormFieldLabel>
      <Input onChange={() => console.log('###')} placeholder="Placeholder" />
      <FormFieldHelper>
        <FormFieldHelperText>Helper text</FormFieldHelperText>
      </FormFieldHelper>
      <FormFieldInvalid>
        <FormFieldInvalidIcon />
        <FormFieldInvalidText>Invalid form field text</FormFieldInvalidText>
      </FormFieldInvalid>
      <FormFieldValid>
        <FormFieldValidIcon />
        <FormFieldValidText>Valid form field text</FormFieldValidText>
      </FormFieldValid>
    </FormField>
  );
};
```

## Examples

### With `RadioGroup`

The `FormField` component can be used to wrap a `RadioGroup` component to provide additional context to the user.

<UsageWrap>
  <Center>
    <FormField
      label="What is your favourite fruit?"
      helperText="Choose the fruit you like the most"
      helperPosition="bottom"
    >
      <RadioGroup aria-label="Radio Group">
        <Radio value="mango" label="Mango" />
        <Radio value="apple" label="Apple" />
        <Radio value="orange" label="Orange" />
        <Radio value="banana" label="Banana" />
      </RadioGroup>
    </FormField>
  </Center>
</UsageWrap>

```tsx
import { RadioGroup, Radio, FormField } from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  return (
    <FormField
      label="What is your favourite fruit?"
      helperText="Choose the fruit you like the most"
      helperPosition="bottom"
    >
      <RadioGroup aria-label="Radio Group">
        <Radio value="mango" label="Mango" />
        <Radio value="apple" label="Apple" />
        <Radio value="orange" label="Orange" />
        <Radio value="banana" label="Banana" />
      </RadioGroup>
    </FormField>
  );
};
```

### With `Checkbox`

The `FormField` component can be used to wrap a `Checkbox` component to provide additional context to the user.

<UsageWrap>
  <Center>
    <FormField validationStatus="invalid">
      <Checkbox alignItems="flex-start">
        <CheckboxIndicator>
          <CheckboxIcon />
        </CheckboxIndicator>
        <VStack space="xs">
          <CheckboxLabel nested={false}>I accept the terms and conditions</CheckboxLabel>
          <FormFieldHelper>
            <FormFieldHelperText>Read and accept the terms and conditions</FormFieldHelperText>
          </FormFieldHelper>
          <FormFieldInvalid>
            <FormFieldInvalidIcon />
            <FormFieldInvalidText>Please check the box above</FormFieldInvalidText>
          </FormFieldInvalid>
        </VStack>
      </Checkbox>
    </FormField>
  </Center>
</UsageWrap>

```tsx
import {
  Checkbox,
  CheckboxIndicator,
  CheckboxLabel,
  FormField,
  FormFieldHelper,
  FormFieldHelperText,
  FormFieldInvalidIcon,
  FormFieldInvalid,
  FormFieldInvalidText,
  VStack,
} from '@utilitywarehouse/native-ui';

const MyComponent = () => {
  return (
    <FormField validationStatus="invalid">
      <Checkbox alignItems="flex-start">
        <CheckboxIndicator />
        <VStack space="xs">
          <CheckboxLabel nested={false}>I accept the terms and conditions</CheckboxLabel>
          <FormFieldHelper>
            <FormFieldHelperText>Read and accept the terms and conditions</FormFieldHelperText>
          </FormFieldHelper>
          <FormFieldInvalid>
            <FormFieldInvalidIcon />
            <FormFieldInvalidText>Please check the box above</FormFieldInvalidText>
          </FormFieldInvalid>
        </VStack>
      </Checkbox>
    </FormField>
  );
};
```
