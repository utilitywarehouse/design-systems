import { Meta, Canvas, Story, Primary, Controls } from '@storybook/blocks';
import {
  ButtonGroup,
  Button,
  ButtonIcon,
  ButtonSpinner,
  ButtonText,
  Alert,
  Center,
  NativeUIProvider,
  HStack,
  VStack,
  Box,
} from '../../src';
import {
  AddSmallIcon,
  ChevronLeft01SmallIcon,
  ChevronRight01SmallIcon,
  PhoneSmallIcon,
  EditSmallIcon,
} from '@utilitywarehouse/react-native-icons';
import { ViewFigmaButton, BackToTopButton, DocComponentWrap } from '../components';
import solid from './assets/button/solid.png';
import outline from './assets/button/outline.png';
import outlineExample from './assets/button/outline-example.png';
import ghostExample1 from './assets/button/ghost-example-1.png';
import ghostExample2 from './assets/button/ghost-example-2.png';
import cyan from './assets/button/cyan.png';
import red from './assets/button/red.png';
import green from './assets/button/green.png';
import gold from './assets/button/gold.png';
import grey from './assets/button/grey.png';
import invertedFalse from './assets/button/inverted-false.png';
import invertedTrue1 from './assets/button/inverted-true-1.png';
import invertedTrueExample from './assets/button/inverted-true-example.png';
import themeExample from './assets/button/theme-example.png';
import small from './assets/button/small.png';
import medium from './assets/button/medium.png';
import large from './assets/button/large.png';
import default1 from './assets/button/default.png';
import disabled from './assets/button/disabled.png';
import loading from './assets/button/loading.png';
import pressed from './assets/button/pressed.png';
import icons from './assets/button/icons.png';
import figmaDefaults from './assets/button/figma-defaults.png';
import sizeSpacing from './assets/button/size-spacing.png';
import overrides from './assets/button/overrides.png';

<Meta title="Design Guidelines / Button" />

<ViewFigmaButton url="https://www.figma.com/design/3RY3OvLA88yZksRjOfjQJm/UW-App-UI?node-id=15-3" />

<BackToTopButton />

# Button Design Guidelines

- [Button component](#button-component)
- [variants](#variants)
  - [solid](#solid)
  - [outline](#outline)
  - [ghost](#ghost)
- [colorScheme](#colorscheme)
  - [cyan](#cyan)
  - [red](#red)
  - [green](#green)
  - [gold](#gold)
  - [grey](#grey)
- [backgrounds - inverted (false)](#backgrounds---inverted-false)
- [inverted (true)](#inverted-true)
- [theme](#theme)
- [size](#size)
- [state](#state)
  - [default](#default)
  - [pressed](#pressed)
  - [loading](#loading)
  - [disabled](#disabled)
- [Icons (left and right)](#icons-left-and-right)
- [Autolayout config (Figma only)](#autolayout-config-figma-only)
  - [Figma Defaults](#figma-defaults)
- [Best and Bad Button Practices](#best-and-bad-button-practices)
  - [Best Practices](#best-practices)
  - [Bad Practices](#bad-practices)
- [Customisation and overrides](#customisation-and-overrides)
- [Accessibility considerations](#accessibility-considerations)

## Button component

The Button component is highly flexible, and features various style variants, colorSchemes, and other configurations
to adapt to a wide range of design use cases and compositions.

<DocComponentWrap>
  <Box mt="$6" mb="$4">
    <Alert
      colorScheme="gold"
      text="This guideline is designed to assist designers in using the Button Figma component. If you need help deciding which component works best for your content, whether it's a button or a link, please refer to the guidelines"
      link="Global usage guidelines"
      onPressLink={() =>
        window.open(
          'https://wiki.uw.systems/posts/buttons-links-and-icon-buttons-guidelines-fs09gshh'
        )
      }
    />
  </Box>
</DocComponentWrap>

## variants

Buttons, like many other components, come in pre-designed variants. For more information on style variant
concepts, refer to the [naming convention doc](https://wiki.uw.systems/posts/naming-conventions-and-stack-mirroring-z1olqysr#hco7u-variants).

The Button component offers a set of variants to address a wide variety of use cases. Each variant provides control
over its appearance, including elements like borders, background colour, and foreground colours.

The choice of Button variant depends on several factors:

- Where does the button appear in the user flow?
- The importance of the action within that context
- How does the button interact with other elements on the screen?

### solid

Solid Buttons are ideal for primary actions in screens or compositions that require high visual emphasis.
**Their appearance creates a strong presence, making them perfect for highlighting the main action**
especially when combined with other Button variants to create a clear visual hierarchy within a composition.

Solid buttons are ideal for submitting data in forms, such as submitting an application or finalising a purchase.

<DocComponentWrap>
  <HStack space="lg">
    <Button>Submit feedback</Button>
    <Button>Buy now</Button>
    <Button colorScheme="red">Delete account</Button>
  </HStack>
</DocComponentWrap>

### outline

Outline Buttons offer a moderate level of emphasis, making them suitable for secondary or non-critical actions like "Cancel" or "Edit."
To enhance the meaning and purpose of the action further, these buttons can be combined with any colorScheme from our design system
(see Color Schemes section for details).

<DocComponentWrap>
  <NativeUIProvider>
    <Box mb="$4">
      <HStack space="lg">
        <Button variant="outline" icon={PhoneSmallIcon}>
          <ButtonIcon as={PhoneSmallIcon} />
          <ButtonText>Call 0800 184703</ButtonText>
        </Button>
        <Button variant="outline" colorScheme="grey">
          <ButtonIcon as={EditSmallIcon} />
          <ButtonText>Edit</ButtonText>
        </Button>
      </HStack>
    </Box>
  </NativeUIProvider>
</DocComponentWrap>

<img src={outlineExample} />

### ghost

Ghost buttons are a subtle button variant designed to have a low visual presence compared to other Button variants.

Ghost buttons start out with a transparent look, only becoming fully visible when a user interacts with them by pressing. Typical use
cases of the ghost variant are:

- Suitable for actions that are less important than the primary one on a screen:
- Ghost buttons excel at complementing solid and outlined Buttons by providing additional actions without overwhelming users.
- Their simple design makes them ideal as building blocks for other UI components that require user interaction, such as Input,
  Tiles, Calendar, etc.

To enhance the meaning and purpose of the action further, these buttons can be combined with any colorScheme from our design
system (see Color Schemes section for details).

<img src={ghostExample1} />
<br />
<br />
<img src={ghostExample2} />

## colorScheme

The colorScheme prop determines the colours applied to the Button component. These colorSchemes are visually defined within
the design system, and not all Button variants support every available scheme as they are tailored to specific use cases.

Choosing a colorScheme that aligns with the intended meaning of the user action (e.g., success, warning) can enhance the
user experience. If no colorScheme is specified, a default scheme is cyan.

The choice of colorScheme and button variant depends on several factors:

- The context in which the button is used,
- How critical is the action triggered by the button
- The importance of the action within that context,
- The relationship between the Button and other elements in the composition.

To learn more about ColorScheme in components please refer to the [naming conventions document](https://wiki.uw.systems/posts/naming-conventions-and-stack-mirroring-z1olqysr#hz3pw-color-schemes).

### cyan

**By default, cyan is used for primary actions to signify their importance**. However, it's important to remember that different
visual weight and hierarchy in a composition can be achieved using various button variants.

Depending on the hierarchy of action in the context of your design, you might want to consider using a different button
variant to either emphasise or de-emphasise the importance of an action.

<img src={cyan} />

### red

**Red is the most suitable colorScheme for buttons representing destructive actions.** These actions can result in data loss,
are irreversible, or have significant negative consequences for the user. The red colour serves as a strong visual warning,
prompting users to carefully consider such actions due to their potential impact.

**The importance and potential consequences of a destructive action can be further emphasised or de-emphasised depending on
the impact and context of your design.** This can be achieved by using different button variants in relation to other actions.
For instance, a solid red Button might be used for a highly destructive action, while a red ghost Button, or a red outline
Button could be used for a less impactful one.

<img src={red} />

### green

**Green is a great choice for button colour schemes when you want to signal positive or affirmative actions.** Green effectively
draws attention to actions that confirm or approve something in your design. However, consider using different button variants
depending on the context. These variants can emphasise or de-emphasise the importance of the positive action and help highlight
the most crucial action for the user.

<img src={green} />

### gold

**Gold buttons are often used for actions that require user attention or careful consideration. They serve as a visual cue for
users to proceed with caution.** However, gold buttons don't convey the same level of urgency or potential consequences as red
buttons. Since their primary function is to complement other UI elements, they typically don't have a solid variant like other
button types used for primary actions.

**Contexts:**

- You will see them in the context of a form.
- You will see them as building blocks of other components with ColorScheme.

<img src={gold} />

### grey

**Grey buttons excel at providing subtle calls to action when you want the button to blend in with the background and not compete
for attention with other design elements.** This approach is particularly useful in colour-heavy designs or when you want to
emphasise other elements or actions in your design. For example, grey buttons can be used for secondary actions or as building
blocks within other UI components.

**Grey colourScheme is optimised only for white backgrounds.**

<img src={grey} />

## backgrounds - inverted (false)

default backgrounds on light mode.

Applies to all colorScheme except grey.

<img src={invertedFalse} />

## inverted (true)

**The inverted property is a boolean value. Setting it to true triggers an inversion of the original colorScheme of the Button.**
In essence, if the original colour scheme was optimised for a light background, the inverted property will adjust the button's
colours to function effectively on a darker background.

To learn more about inverted colour schemes in components please refer to the naming conventions document.

<img src={invertedTrue1} />
<br />
<br />
<img src={invertedTrueExample} />

## theme

App UI buttons are designed to work in both light and dark themes.

**It's important to distinguish between these themes and the "inverted" prop, which is only applicable to light mode.**

<img src={themeExample} />

## size

The size prop helps you create a clear hierarchy and guide users towards the most important actions in your design layout.
All button variants and colour schemes can be used with various sizes, giving you maximum flexibility.

### small

Small buttons are perfect for subtle interactions, allowing you to offer additional functionality without overwhelming users
with prominent calls to action.

<img src={small} />

### medium

Medium buttons are your best bet for emphasising crucial actions. They effectively grab user attention, making them ideal
for situations where a specific action is the core function of a page or a large section.

- **As the default size, medium buttons strike a perfect balance between prominence, usability, and providing a comfortable
  target area for touch interactions.**
- Medium and Large Buttons should fill their container.

<img src={medium} />

### large

Large buttons are designed to complement form fields, particularly when aligned in height.

Medium and Large Buttons should fill their container.

<img src={large} />

## state

Buttons have different states to provide visual feedback to users and indicate interaction possibilities.

- In Figma, properties represent different states of a component (e.g., hover, focus).
- In code, interactive components often have built-in states that can be styled (e.g., active, disabled).

### default

This is the button's resting state when the user isn't interacting with it.

<img src={default1} />

### pressed

The "pressed state" refers to the visual and interaction behaviour of the button when a user taps or clicks on it.

<img src={pressed} />

### disabled

This state is used when a button action is unavailable or not applicable in the current context.
**Disabled Buttons should not respond to pressed state.**

<img src={disabled} />

### loading

This state is used for buttons that trigger long-running actions, like form submissions or data loading.
**The Button's appearance resembles a disabled state, as user interaction is prevented during the loading process.**

<img src={loading} />

## Icons (left and right)

Using icons in buttons can significantly improve user experience. Icons serve as visual shortcuts, allowing users
to quickly grasp the button's function and the anticipated result of clicking it. Each icon prop offers customisation
options for your button's appearance. It's important to note that due to design limitations, you can only choose to
have an icon positioned either to the left or right of the button text, not both.

If you want a Button with only an Icon, use the [Icon Button component](/docs/native-ui-components-iconbutton--docs)

<img src={icons} />

## Autolayout config (Figma only)

Figma's auto layout gives you flexibility in adjusting button sizes for your designs. However, Figma's default behaviour
differs from some app UIs:

### Figma Defaults

Figma Default: Unlike some App UIs where medium and large (see size section) Medium and Large Buttons fill their
container by default. Small Buttons use a "Hug Content" layout, this means the button width adapts to its text content.

<img src={figmaDefaults} />

## Best and Bad Button Practices

If you need help deciding which component works best for your content, whether it's a button or a link,
please refer to [the global usage guidelines](https://wiki.uw.systems/posts/buttons-links-and-icon-buttons-guidelines-wip-fs09gshh).

### Best Practices

**Clarity:**

- Use clear and concise Button text that accurately reflects the action it triggers.
- Consider icons alongside text for even better clarity (see icon section).

**Visual Hierarchy:**

Use all the provided props to differentiate button sizes, colours, and styles based on their importance and meaning.

**Size and Spacing:**

- Use the size large enough for easy tapping, especially for primary actions.
- Maintain adequate spacing between buttons to avoid accidental taps.

<img src={sizeSpacing} />

### Bad Practices

**Misleading Text:**

Avoid vague or unclear Button text that doesn't accurately reflect the action.

**Too Many Buttons:**

Overwhelming users with too many Buttons on the screen can lead to confusion and decision fatigue.

## Customisation and overrides

Our Button system offers a diverse range of sizes, variants, and colorSchemes, catering to a multitude of design scenarios.
**It's important to remember that these options address core functionalities, and may not encompass every unique design need
or context.**

Since the Buttons' design dictates properties like colour usage, **local overrides are generally discouraged.** If you encounter
design limitations or believe a new Button variant, shape, colorScheme, or size is necessary, don't hesitate to share your
feedback with the Design System team.

<img src={overrides} />

## Accessibility considerations

All buttons, except the cyan solid one, meet WCAG AA colour contrast standards on a white background.

The Buttons copy is also crucial for accessibility and usability, please refer to the
[content guidelines](https://wiki.uw.systems/posts/buttons-links-and-icon-buttons-guidelines-fs09gshh).
