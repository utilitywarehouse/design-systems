import { Meta, Canvas, ArgTypes } from '@storybook/addon-docs/blocks';

import * as Stories from './Flex.stories';

import { DocsHeader } from '../../storybook-components';

<Meta title="Web UI / Documentation / Flex" />

<DocsHeader componentName="Flex" stories={Stories} />

<Canvas of={Stories.Workshop} sourceState="none" />

- [Semantic HTML](#semantic-html)
- [Accessibility](#accessibility)
- [Shorthand props](#shorthand-props)
- [Usage with Divider](#usage-with-divider)
- [Flex vs. Stack](#flex-vs-stack)
- [Props](#props)

## Shorthand props

As well as the same style props as the `Box` component, it supports a set of
shorthand, flexbox specific props.

- `direction` is `flexDirection`
- `wrap` is `flexWrap`
- `basis` is `flexBasis`
- `grow` is `flexGrow`
- `shrink` is `flexShrink`
- `align` is `alignItems`
- `justify` is `justifyContent`

## Semantic HTML

By default Flex renders a `div` element, this can be customised using the
`component` prop.

```tsx dark
<Flex component="ul" role="list">
  ...
</Flex>
```

## Accessibility

The `Flex` component is an all purpose component. By default, it has no
accessibility concerns. If you use the `Flex` as a custom element, it is up to
you to manage the resulting accessibility implications.

## Usage with Divider

You can insert a `Divider` component in between `Flex` children in the following way.

```tsx
<Flex direction="column">
  {meters.map((meter, index) => (
    <>
      <EnergyMeter
        key={meter.meterId ? meter.meterId : `${meter.__typename}-${index}`}
        meter={meter}
      />
        <Divider />
      </>
  ))}
</Flex>


<Flex direction="column">
  {[
    { px: 2, py: 4 },
    { px: 6, py: 8 },
    { px: 12, py: 16 },
  ].map((padding, i) => (
    <>
      <Box
        px={padding.px}
        py={padding.py}
        background={colorsCommon.brandPrimaryPurple}
        borderRadius="8px"
      >
        <Text component="span" variant="body">
          Item {i + 1}
        </Text>
      </Box>
      {i < 2 ? <Divider /> : null}
    </>
  ))}
</Flex>
```

## Flex vs. Stack

The `Stack` component was introduced before the flexbox `gap` property was
widely available, and was intended as an intuitive way of building consistently
spaced layouts. It did this by adding additional margin to child components,
which could sometimes cause problems, such as margin collapse on the child
components.

It is now possible to achieve the same layouts using the native flexbox gap
property, and this is our preferred way of achieving these common _stacked_
layouts. The `Stack` component will be deprecated and removed in due course.

<Canvas of={Stories.Stack} />

## Props

<ArgTypes of={Stories} />
